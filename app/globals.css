@import "tailwindcss";

/* Class-based dark mode for Tailwind 4 */
@custom-variant dark (&:where(.dark, .dark *));

body {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen,
    Ubuntu, Cantarell, 'Helvetica Neue', sans-serif;
  overflow: hidden;
}

/* ── TipTap editor — light-first, dark overrides ─────────────────────────── */

.tiptap {
  outline: none;
  min-height: 100%;
  color: #1f2937; /* gray-800 */
}
.dark .tiptap { color: #e5e7eb; }

.tiptap > * + * { margin-top: 0.75em; }
.tiptap h1 { font-size: 1.5em; font-weight: 700; line-height: 1.3; }
.tiptap h2 { font-size: 1.25em; font-weight: 600; line-height: 1.35; }
.tiptap ul { list-style: disc; padding-left: 1.25rem; }
.tiptap ol { list-style: decimal; padding-left: 1.25rem; }
.tiptap li > p { margin: 0; }

.tiptap code {
  background: rgba(0,0,0,0.07);
  border-radius: 3px;
  padding: 0.1em 0.3em;
  font-size: 0.875em;
}
.dark .tiptap code { background: rgba(255,255,255,0.1); }

.tiptap pre {
  background: #f3f4f6;
  border-radius: 6px;
  padding: 0.75rem 1rem;
  overflow-x: auto;
}
.dark .tiptap pre { background: #1e2433; }
.tiptap pre code { background: none; padding: 0; font-size: 0.85em; }

.tiptap blockquote {
  border-left: 3px solid #6366f1;
  padding-left: 1rem;
  color: #6b7280;
}
.dark .tiptap blockquote { color: #9ca3af; }

.tiptap hr {
  border: none;
  border-top: 1px solid #e5e7eb;
  margin: 1rem 0;
}
.dark .tiptap hr { border-top-color: #374151; }

/* Task list */
.tiptap ul[data-type="taskList"] { list-style: none; padding-left: 0; }
.tiptap ul[data-type="taskList"] p { margin: 0; }
.tiptap ul[data-type="taskList"] li {
  display: flex;
  align-items: flex-start;
  gap: 0.5rem;
}
.tiptap ul[data-type="taskList"] li > label {
  flex: 0 0 auto;
  margin-top: 0.2rem;
  user-select: none;
}
.tiptap ul[data-type="taskList"] li > label input[type="checkbox"] {
  cursor: pointer;
  width: 15px;
  height: 15px;
  accent-color: #6366f1;
}
.tiptap ul[data-type="taskList"] li > div { flex: 1 1 auto; }
.tiptap ul[data-type="taskList"] li[data-checked="true"] > div {
  text-decoration: line-through;
  opacity: 0.5;
}

/* Placeholder */
.tiptap p.is-editor-empty:first-child::before {
  content: attr(data-placeholder);
  color: #9ca3af;
  pointer-events: none;
  float: left;
  height: 0;
}
.dark .tiptap p.is-editor-empty:first-child::before { color: #4b5563; }

/* ── Scrollbars ────────────────────────────────────────────────────────────── */
::-webkit-scrollbar { width: 6px; height: 6px; }
::-webkit-scrollbar-track { background: transparent; }
::-webkit-scrollbar-thumb { background: #d1d5db; border-radius: 3px; }
::-webkit-scrollbar-thumb:hover { background: #9ca3af; }
.dark ::-webkit-scrollbar-thumb { background: #374151; }
.dark ::-webkit-scrollbar-thumb:hover { background: #4b5563; }
